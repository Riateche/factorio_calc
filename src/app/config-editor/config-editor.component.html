

<div *ngIf="config" class="root">

  <h1 class="title">Editing config</h1>

  <div class="field is-horizontal">
    <div class="field-label is-normal">
      <label class="label">Name</label>
    </div>
    <div class="field-body">
      <div class="field">
        <div class="control">
          <input class="input" type="text"  [(ngModel)]="config.name">
        </div>
      </div>
    </div>
  </div>

  <div class="field is-horizontal">
    <div class="field-label is-normal">
      <label class="label">Title</label>
    </div>
    <div class="field-body">
      <div class="field">
        <div class="control">
          <input class="input" type="text"  [(ngModel)]="config.title">
        </div>
      </div>
    </div>
  </div>

  <h2 class="title is-4">Machines:</h2>

  <div [sortablejs]="config.machines">
      <div *ngFor="let machine of config.machines" class="machineContainer">
        <machine-editor [machine]="machine" (onDeleteRequested)="deleteMachine(machine)"></machine-editor>
      </div>
    </div>

  <div class="field is-grouped">
    <p class="control">
      <button class="button" (click)="addMachine()">Add machine</button>
    </p>
  </div>


  <div class="field is-grouped">
    <p class="control">
      <button class="button is-primary" (click)="save()">Save</button>
    </p>
    <p class="control">
      <button class="button" [routerLink]="routes.configs()">Cancel</button>
    </p>
    <p class="control">
        <button class="button is-danger is-outlined" (click)="deleteConfig()">Delete config</button>
    </p>
  </div>


</div>
